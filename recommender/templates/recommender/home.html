{% extends 'base.html' %}

{% block title %} SoundLogic {% endblock %}

{% block content %}
<div class='nav' style="margin:25px;padding:10px;display:flex;flex-direction:column;gap:20px;justify-content:center;">
    <div class="card" style="width: 100%;">
        <div class="card-body">
          <h5 class="card-title">Popular Songs Today</h5>
          <h6 class="card-subtitle mb-2 text-muted">Today's most popular songs</h6>
          <div class="row row-cols-1 row-cols-md-3 g-3">
            {% if songs %}
            {% for song in songs %}
              <iframe src="https://open.spotify.com/embed/track/{{ song.track_id }}" width="300" height="380" 
              frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
            {% endfor %}
            {% endif %}
          </div>
      </div>
    </div>

    <div class="card" style="width: 100%;">
      <div class="card-body">
        <h5 class="card-title">Popular Albums Today</h5>
        <h6 class="card-subtitle mb-2 text-muted">Today's most popular albums</h6>
        <div class="row row-cols-1 row-cols-md-3 g-3">
          {% if albums %}
          {% for album in albums %}
          <iframe src="https://open.spotify.com/embed/track/{{ album.track_id }}" width="300" height="380" 
          frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
          {% endfor %}
          {% endif %}
        </div>
      </div>
    </div>

    <div class="card" style="width: 100%;">
        <div class="card-body">
          <h5 class="card-title">Popular Playlists Today</h5>
          <h6 class="card-subtitle mb-2 text-muted">Today's most popular playlists</h6>
          <div class="row row-cols-1 row-cols-md-3 g-3">
            {% if playlists %}
            {% for playlist in playlists %}
            <iframe src="https://open.spotify.com/embed/track/{{ playlist.track_id }}" width="300" height="380" 
            frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
            {% endfor %}
            {% endif %}
          </div>
      </div>
    </div>
</div>

{% endblock %}